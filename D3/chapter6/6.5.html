<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="F:\Jsspace\d3-v4.min.js"></script>
</head>
<body>
	
</body>
<script type="text/javascript">
var width = 600;
var height = 400;
var svg = d3.select("body").append("svg").attr("width",width).attr("height",height);
//6.3 符号生成器
//数组长度
var n = 30;
//数组
var dataset = [];
//v3:d3.svg.symbolTypes
//v4:d3.symbol3
console.log(d3.symbols);
//给数组添加元素
for(var i=0;i<n;i++){
	dataset.push({
		size:Math.random()*30+200,
		type:d3.symbols[Math.floor(Math.random()*d3.symbols.length)]
	});
}
//创建一个符号生成器
//v3:d3.svg.symbol()
//v4:d3.symbol()
var symbol = d3.symbol().size(function(d){return d.size;}).type(function(d){return d.type;});
var color = d3.schemeCategory20b;
//添加路径
svg.selectAll().data(dataset).enter().append("path").attr("d",function(d){return symbol(d);})
	.attr("transform",function(d,i){
		var x = 100+i%5*20;
		var y = 100+Math.floor(i/5)*20;
		return "translate("+x+","+y+")";
	})
	.attr("fill",function(d,i){return color[i];});
</script>
</html>