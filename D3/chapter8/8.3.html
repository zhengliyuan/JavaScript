<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script src="F:\Jsspace\d3-v4.min.js"></script>
</head>
<body>
	
</body>
<script type="text/javascript">
var dataset=[50,43,120,87,99,167,142];
var width = 400;
var height = 400;
var svg=d3.select("body").append("svg").attr("width",width).attr("height",height);
//拖曳
//v3:d3.behavior.drag()
//v4:d3.drag()
//v3:origin()修改为subject()
//v3中dragstart,drag,dragend修改为:start,end,drag
var drag = d3.drag().subject(function(d,i){return {x:d.cx,y:d.cy}})
				.on("start",function(d){console.log("拖曳开始")})
				.on("end",function(d){console.log("拖曳结束")})
				.on("drag",function(d){
					d3.select(this)
					.attr("cx",d.cx=d3.event.x)
					.attr("cy",d.cy=d3.event.y);
				});
var circle = [{cx:150,cy:200,r:30},{cx:250,cy:200,r:30}];
svg.selectAll("circle").data(circle).enter().append("circle")
	.attr("cx",function(d){return d.cx;})
	.attr("cy",function(d){return d.cy;})
	.attr("r",function(d){return d.r;})
	.attr("fill","black")
	.call(drag);

</script>
</html>